!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ScopedCss=b()}(this,function(){var a=function(a,b){this.rule=a,this.index=b};a.prototype.applyPrefix=function(a){var b=this.rule.selectorText,c=this.rule.parentStyleSheet,d=this.rule.cssText;b=b.replace(/\"/g,"'"),a!==b&&(this.rule.selectorText=a+" "+b),this.rule.selectorText===b&&(c.deleteRule(this.index),c.insertRule(a+" "+d,this.index))};var b=function(a){this.styleTag=a};b.prototype.getStyleSheet=function(){return this.styleTag.sheet},b.prototype.cssRules=function(){var b=Array.prototype.slice.call(this.getStyleSheet().cssRules);return b.map(function(b,c){return new a(b,c)},this)};var c=function(a,b,c){this.selectorPrefix=a,this.cssText=b,this.styleTag=c||document.createElement("style")};return c.prototype.process=function(){if(this.styleTag.innerHTML.length){var a=this.styleTag.innerHTML;a=a.replace(/\@host/g,this.selectorPrefix),this.styleTag.innerHTML=a}var c=new b(this.styleTag),d=c.cssRules();d.forEach(function(a){a.applyPrefix(this.selectorPrefix)},this)},c.prototype.appendTo=function(a){this.styleTag.innerHTML=this.cssText,a.appendChild(this.styleTag),this.selectorPrefix&&this.cssText&&this.process()},c.defaultSelector=":not([data-scopedcss]) style[scoped]",c.applyTo=function(a){a=a||document.body;var b=document.querySelectorAll(this.defaultSelector);Array.prototype.slice.call(b).forEach(function(a){var b=(+new Date*Math.random()).toString(16);a.parentNode.setAttribute("data-scopedcss",b),new c("[data-scopedcss='"+b+"']",null,a).process()})},c});
/*
//@ sourceMappingURL=dist/scopedcss.js.map
*/