!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.ScopedCss=b()}(this,function(){var a,b,c;return function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m=b&&b.split("/"),n=s.map,o=n&&n["*"]||{};if(a&&"."===a.charAt(0))if(b){for(m=m.slice(0,m.length-1),a=m.concat(a.split("/")),j=0;j<a.length;j+=1)if(l=a[j],"."===l)a.splice(j,1),j-=1;else if(".."===l){if(1===j&&(".."===a[2]||".."===a[0]))break;j>0&&(a.splice(j-1,2),j-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((m||o)&&n){for(c=a.split("/"),j=c.length;j>0;j-=1){if(d=c.slice(0,j).join("/"),m)for(k=m.length;k>0;k-=1)if(e=n[m.slice(0,k).join("/")],e&&(e=e[d])){f=e,g=j;break}if(f)break;!h&&o&&o[d]&&(h=o[d],i=j)}!f&&h&&(f=h,g=i),f&&(c.splice(0,g,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[];if(f=f||a,"function"==typeof c){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c.apply(q[a],u),a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){return"string"==typeof a?p[a]?p[a](b):j(o(a,b).f):(a.splice||(s=a,b.splice?(a=b,b=c,c=null):a=d),b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n)},n.config=function(a){return s=a,s.deps&&n(s.deps,s.callback),n},c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("../build/almond",function(){}),c("scopedcss/cssRule",[],function(){var a=function(a,b){this.rule=a,this.index=b};return a.prototype.applyPrefix=function(a){var b=this.rule.selectorText,c=this.rule.parentStyleSheet,d=this.rule.cssText;this.rule.selectorText=a+" "+b,this.rule.selectorText===b&&(c.deleteRule(this.index),c.insertRule(a+" "+d,this.index))},a}),c("scopedcss/styleSheet",["require","./cssRule"],function(a){var b=a("./cssRule"),c=function(a){this.styleTag=a};return c.prototype.getStyleSheet=function(){return this.styleTag.sheet},c.prototype.cssRules=function(){var a=Array.prototype.slice.call(this.getStyleSheet().cssRules);return a.map(function(a,c){return new b(a,c)},this)},c}),c("scopedcss/index",["require","./styleSheet"],function(a){var b=a("./styleSheet"),c=function(a,b,c){this.selectorPrefix=a,this.cssText=b,this.styleTag=c||document.createElement("style")};return c.prototype.process=function(){var a=new b(this.styleTag),c=a.cssRules();c.forEach(function(a){a.applyPrefix(this.selectorPrefix)},this)},c.prototype.appendTo=function(a){this.styleTag.innerHTML=this.cssText,a.appendChild(this.styleTag),this.selectorPrefix&&this.cssText&&this.process()},c.defaultSelector=":not([data-scopedcss]) style[scoped]",c.applyTo=function(a){a=a||document.body;var b=document.querySelectorAll(this.defaultSelector);Array.prototype.slice.call(b).forEach(function(a){var b=(+new Date).toString(16);a.parentNode.setAttribute("data-scopedcss",b),new c("[data-scopedcss='"+b+"']",null,a).process()})},c}),c("scopedcss",["scopedcss/index"],function(a){return a}),b("scopedcss")});
/*
//@ sourceMappingURL=dist/scopedcss.js.map
*/